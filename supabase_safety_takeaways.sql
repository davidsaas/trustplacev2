CREATE TABLE IF NOT EXISTS public.safety_takeaways (id UUID PRIMARY KEY DEFAULT uuid_generate_v4(), latitude FLOAT NOT NULL, longitude FLOAT NOT NULL, radius FLOAT NOT NULL, positive_takeaway TEXT, negative_takeaway TEXT, neutral_takeaway TEXT, created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(), expires_at TIMESTAMP WITH TIME ZONE NOT NULL); CREATE INDEX IF NOT EXISTS idx_safety_takeaways_location ON public.safety_takeaways (latitude, longitude, radius); CREATE INDEX IF NOT EXISTS idx_safety_takeaways_expires_at ON public.safety_takeaways (expires_at);
